{% extends 'layout.html' %}
{% block title %}Upload{% endblock %}
{% block content %}
<nav class="top-nav"><a class="home" href="{{ url_for('home') }}">üè† Home</a> ¬∑ <a class="back" href="javascript:history.back()">‚Üê Back</a></nav>

<a class="back" href="{{ url_for('home') }}">‚Üê Back</a>
<section class="card">
  <h2>Upload Results (CSV or XLSX)</h2>
  <p class="muted">Required columns (exact header names): <strong>POSITION, COMPETITOR, CLUB, EXECUTION, ARTISTRY, DIFFICULTY, LINE PENALTY, CHAIR PENALTY, DIFF PENALTY, TOTAL</strong>.</p>
  <form method="post" enctype="multipart/form-data" class="form">
    <label>{{ t("Password") }}</label>
    <input type="password" name="password" placeholder="Password">
    <label>Category name (create or use existing)</label>
    <input type="text" name="category_name" placeholder="e.g., Individual Women ‚Äì Junior">
    <div class="muted">If you came from a category page, it's preselected there. Here you can create a new one.</div>
    <label>File</label>
    <input type="file" name="file" accept=".csv, .xlsx">
    <button class="btn btn-primary" type="submit">{{ t("Upload") }}</button>
  </form>

<hr class="sep">

<h3>Stergere rapida pentru o categorie</h3>
<p class="muted">Daca ai incarcat gresit un fisier la o categorie, poti sterge toate randurile din acea categorie aici si apoi re-uploadezi fisierul corect.</p>
<form method="post" action="{{ url_for('delete_by_name') }}" onsubmit="return confirm('Sigur stergi toate inregistrarile pentru aceasta categorie?');" class="delete-form">
  <label>Parola (UPLOAD_PASSWORD)</label>
  <input type="password" name="password" placeholder="Parola upload">
  <label>Numele categoriei exacte</label>
  <input type="text" name="category_name" placeholder="ex: Individual Women ‚Äì Junior">
  <button type="submit" class="btn btn-danger">Sterge toate randurile din categorie</button>
</form>

</section>
{% endblock %}
